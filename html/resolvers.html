<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Fields" href="fields.html" /><link rel="prev" title="Quickstart" href="quickstart.html" />

    <meta name="generator" content="sphinx-3.4.3, furo 2020.12.30.beta24"/>
        <title>Resolvers - Paramap documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script defer="defer" src="_static/jquery.js"></script>
    <script defer="defer" src="_static/underscore.js"></script>
    <script defer="defer" src="_static/doctools.js"></script>
    <script defer src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Paramap  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Paramap  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Resolvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="fields.html">Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="paramap.html">Class Reference</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="resolvers">
<span id="resolvers-overview"></span><h1>Resolvers<a class="headerlink" href="#resolvers" title="Permalink to this headline">¶</a></h1>
<p>Sometimes when parsing data you need to include values that are not directly present in the source data, but can be derived from other available values, they also might need special rules when being resolved.</p>
<p>In Paramap this issue is being solved by the use of <code class="docutils literal notranslate"><span class="pre">resolvers</span></code>. If you’ve ever used <code class="docutils literal notranslate"><span class="pre">graphene</span></code>, you should be familiar with this concept.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">MapObject</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="s1">'FIRST_NAME'</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="s1">'LAST_NAME'</span><span class="p">)</span>
    <span class="n">full_name</span> <span class="o">=</span> <span class="n">String</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">resolve_full_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="c1"># full_name attribute will be resolved based</span>
        <span class="c1"># on other values</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">last_name</span>
</pre></div>
</div>
<p>Looking at the example above, you should be able to notice three things:</p>
<ul class="simple">
<li><p>there is a resolver method <code class="docutils literal notranslate"><span class="pre">resolve_full_name</span></code> in <code class="docutils literal notranslate"><span class="pre">Person</span></code> class</p></li>
<li><p>resolver takes two arguments <code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">parameters</span></code></p></li>
<li><p>resolver name matches attribute name it corresponds to eg. <code class="docutils literal notranslate"><span class="pre">resolver_attr_name</span></code>, in this case <code class="docutils literal notranslate"><span class="pre">full_name</span></code></p></li>
</ul>
<div class="section" id="arguments-and-return-value">
<h2>Arguments and return value<a class="headerlink" href="#arguments-and-return-value" title="Permalink to this headline">¶</a></h2>
<p>Each resolver gets two argument passed into it:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code> - value with which the field resolved with</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parameters</span></code> - an entire parameter dictionary passed into the root <code class="docutils literal notranslate"><span class="pre">MapObject</span></code></p></li>
</ul>
<p>Resolvers should return a value compatible with the field they are resolving.</p>
</div>
<div class="section" id="naming-and-resolution-order">
<h2>Naming and resolution order<a class="headerlink" href="#naming-and-resolution-order" title="Permalink to this headline">¶</a></h2>
<p>Resolvers naming is imporant. Name should always start with <code class="docutils literal notranslate"><span class="pre">resolve_</span></code> and end with field name. Resolvers will be fired from top to bottom.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">JohnDoe</span><span class="p">(</span><span class="n">MapObject</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">String</span><span class="p">()</span>
    <span class="n">lastName</span> <span class="o">=</span> <span class="n">String</span><span class="p">()</span>     <span class="c1"># notice field name is not in snake_case</span>
    <span class="n">full_name</span> <span class="o">=</span> <span class="n">String</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">resolve_first_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="c1"># I will be fired first!</span>
        <span class="c1"># self.first_name = None</span>
        <span class="c1"># self.lastName = None</span>
        <span class="c1"># self.full_name = None</span>

        <span class="k">return</span> <span class="s1">'John'</span>

    <span class="k">def</span> <span class="nf">resolve_lastName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="c1"># I will be fired second! Notice my name is not in snake case.</span>
        <span class="c1"># self.first_name = 'John'</span>
        <span class="c1"># self.lastName = None</span>
        <span class="c1"># self.full_name = None</span>

        <span class="k">return</span> <span class="s1">'Doe'</span>

    <span class="k">def</span> <span class="nf">resolve_full_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">paramaters</span><span class="p">):</span>
        <span class="c1"># I will be fired last!</span>
        <span class="c1"># self.first_name = 'John'</span>
        <span class="c1"># self.lastName = 'Doe'</span>
        <span class="c1"># self.full_name = None</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_name</span>
</pre></div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="fields.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Fields</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="quickstart.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Quickstart</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Kamil Biel
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/resolvers.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Resolvers</a><ul>
<li><a class="reference internal" href="#arguments-and-return-value">Arguments and return value</a></li>
<li><a class="reference internal" href="#naming-and-resolution-order">Naming and resolution order</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>